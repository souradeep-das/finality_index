"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.toArgs = void 0;
const toFlagCase_js_1 = require("./toFlagCase.js");
/**
 * Converts an object of options to an array of command line arguments.
 *
 * @param options The options object.
 * @returns The command line arguments.
 */
function toArgs(options) {
    return Object.entries(options).flatMap(([key, value]) => {
        if (value === undefined) {
            return [];
        }
        if (typeof value === "object" && value !== null) {
            return Object.entries(value).flatMap(([subKey, subValue]) => {
                if (subValue === undefined) {
                    return [];
                }
                const flag = (0, toFlagCase_js_1.toFlagCase)(key);
                const value = `${subKey}: ${subValue}`;
                return [flag, value];
            });
        }
        const flag = (0, toFlagCase_js_1.toFlagCase)(key);
        if (value === false) {
            return [];
        }
        else if (value === true) {
            return [flag];
        }
        const stringified = value.toString();
        if (stringified === "") {
            return [flag];
        }
        return [flag, stringified];
    });
}
exports.toArgs = toArgs;
//# sourceMappingURL=toArgs.js.map